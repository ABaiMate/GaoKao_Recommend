import{a as U}from"./avatar-dc521f05.js";import{u as h}from"./useRequest-4cb19bee.js";import{U as b}from"./UserApi-7044f7f4.js";import{u as k}from"./useTimes-c127d28f.js";import{d as T,p as r,r as C,a as w,f as z,g as t,o as c,h as i,i as e,j as s,u as B,l as $,t as L,q as N,m as V}from"./index-d31968a7.js";const F=["textContent"],R=T({__name:"UserItem",props:{userId:{},size:{default:"sm"}},setup(u){const a=u,d=h(),n=k(),p=r(n,"isLoading"),f=r(n,"incrTimes"),v=r(n,"decrTimes");let o=C({});w(()=>a.userId,()=>{a.userId&&l()}),z(()=>{a.userId&&l()});async function l(){f.value(),o.value=await d.run(b.getById(a.userId)).finally(v.value)}function q(){return`${location.protocol}//${location.host}/local-file/img/${o.value.avatarFileId}`}return(j,A)=>{const g=t("q-img"),x=t("q-avatar"),_=t("q-item-section"),m=t("q-item-label"),I=t("q-item"),y=t("q-card");return c(),i(y,{bordered:"",flat:"",class:"max-width-150"},{default:e(()=>[s(I,{class:"user-item",dense:"",clickable:""},{default:e(()=>[s(_,{side:""},{default:e(()=>[s(x,{size:a.size},{default:e(()=>[s(g,{class:"user-avatar",src:o.value.avatarFileId?q():B(U)},null,8,["src"])]),_:1},8,["size"])]),_:1}),s(_,{class:"text-caption"},{default:e(()=>[p.value?(c(),i(m,{key:1,class:"text-grey"},{default:e(()=>[N("Loading...")]),_:1})):(c(),i(m,{key:0,class:"text-ellipsis"},{default:e(()=>[$("span",{textContent:L(o.value.nickname)},null,8,F)]),_:1}))]),_:1})]),_:1})]),_:1})}}});const H=V(R,[["__scopeId","data-v-30eacb82"]]);export{H as U};
