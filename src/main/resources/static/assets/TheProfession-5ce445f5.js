import{Q as v}from"./QueryChipSelect-b4a32d7e.js";import{Q as B}from"./QueryContainer-778ca57d.js";import{Q as L}from"./QuerySearchCard-abfe6caa.js";import{Q as T}from"./QueryPagination-33101695.js";import{Q as U}from"./QueryInput-b0beacee.js";import{u as k}from"./useArray-1b072fc4.js";import{u as w}from"./useNotify-cedc1ad3.js";import{u as S,a as M}from"./useRequest-4cb19bee.js";import{d as z,B as N,z as R,r as p,c as $,f as j,g as _,o as l,b as r,j as s,i,F as m,s as c,h as A,l as f,t as y,m as F}from"./index-d31968a7.js";import{u as H}from"./usePage-8ca7a06e.js";import{P as x}from"./ProfessionApi-32b74b1a.js";const I={class:"profession"},D={class:"row justify-start q-gutter-md q-mt-md"},E=["textContent"],G=["textContent"],J=["innerHTML"],K={class:"col"},O=z({__name:"TheProfession",setup(W){w(),N();const g=S(),u=M(),{toPage:q}=H();R();let a=p({}),o=p({}),d=p({}),C=$(()=>k(o.value.list??[],3));j(()=>{b()});async function b(){u.start(),d.value=await g.run(x.getGroupByList("tag,belong")).finally(u.close)}async function Q(){u.start(),o.value=await g.run(x.getPage({...a.value,...q(o.value)})).finally(u.close)}return(V,t)=>{const h=_("q-card-section"),P=_("q-card");return l(),r("div",I,[s(B,{query:a.value,"onUpdate:query":t[4]||(t[4]=e=>a.value=e),page:o.value,"onUpdate:page":t[5]||(t[5]=e=>o.value=e),onSearch:Q},{default:i(()=>[s(L,{ref:"querySearchRef"},{default:i(()=>[s(U,{class:"col-12",modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.name=e),label:"名称"},null,8,["modelValue"]),s(v,{modelValue:a.value.tag,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.tag=e),label:"标签",options:d.value.tag??[],size:"sm"},null,8,["modelValue","options"]),s(v,{modelValue:a.value.belong,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value.belong=e),label:"隶属行业",options:d.value.belong??[],size:"sm"},null,8,["modelValue","options"])]),_:1},512),(l(!0),r(m,null,c(C.value,e=>(l(),r("div",D,[(l(!0),r(m,null,c(e,n=>(l(),A(P,{class:"col cursor-pointer",flat:"",bordered:"",onClick:X=>V.$router.push(`/home/profession/${n.id}`)},{default:i(()=>[s(h,null,{default:i(()=>[f("p",{class:"q-mt-md text-subtitle1 text-center",textContent:y(n.name)},null,8,E),f("p",{class:"text-overline text-center",textContent:y(n.tag+" "+n.belong)},null,8,G),f("div",{class:"text-caption overflow-hidden",style:{"max-height":"100px"},innerHTML:n.content},null,8,J)]),_:2},1024)]),_:2},1032,["onClick"]))),256)),(l(!0),r(m,null,c(3-e.length,n=>(l(),r("div",K))),256))]))),256)),s(T,{class:"q-my-xl",page:o.value,"onUpdate:page":t[3]||(t[3]=e=>o.value=e)},null,8,["page"])]),_:1},8,["query","page"])])}}});const ie=F(O,[["__scopeId","data-v-5aac6f1e"]]);export{ie as default};
