import{u as y,F as u,a as p}from"./useValid-d1447d9b.js";import{F as _}from"./FormInputPassword-77e6c8e9.js";import{u as R}from"./useFormRules-cbf82972.js";import{d as C,B as k,z as F,r as I,f as N,g as r,o as B,h as U,i as a,j as l,u as d,l as f,x as L,y as M,m as S}from"./index-d31968a7.js";import{a as T,u as O}from"./useRequest-4cb19bee.js";import{L as P}from"./LoginApi-1dda4bc2.js";import{u as j}from"./useNotify-cedc1ad3.js";const z=t=>(L("data-v-dd5dcee2"),t=t(),M(),t),A=z(()=>f("div",{class:"text-subtitle1 text-bold text-white"},"注 册",-1)),Q={class:"text-center q-mt-md"},D=C({__name:"TheRegister",setup(t){const{validNull:n,validRePassword:v}=R();k();const g=y(),c=T(),w=O(),V=F(),q=j();let s=I({roleCode:"COMMON"});N(async()=>{});async function x(){await g.submit(),c.start(),await w.run(P.register(s.value)).finally(c.close),q.success("注册成功"),await V.push("/login")}return(E,o)=>{const m=r("q-card-section"),b=r("q-form"),i=r("q-btn"),h=r("q-card");return B(),U(h,{class:"register card fixed-center"},{default:a(()=>[l(m,{class:"text-center bg-logo"},{default:a(()=>[A]),_:1}),l(m,null,{default:a(()=>[l(b,{ref:"formRef",class:"form q-col-gutter-y-md"},{default:a(()=>[l(u,null,{default:a(()=>[l(p,{modelValue:s.value.username,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value.username=e),placeholder:"用户名",rules:[e=>d(n)(e,!1,"请输入用户名")]},null,8,["modelValue","rules"])]),_:1}),l(u,null,{default:a(()=>[l(p,{modelValue:s.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=e=>s.value.nickname=e),placeholder:"昵称",rules:[e=>d(n)(e,!1,"请输入用户名")]},null,8,["modelValue","rules"])]),_:1}),l(u,null,{default:a(()=>[l(_,{modelValue:s.value.password,"onUpdate:modelValue":o[2]||(o[2]=e=>s.value.password=e),placeholder:"密码",rules:[e=>d(n)(e,!1,"请输入密码")]},null,8,["modelValue","rules"])]),_:1}),l(u,null,{default:a(()=>[l(_,{modelValue:s.value.password2,"onUpdate:modelValue":o[3]||(o[3]=e=>s.value.password2=e),placeholder:"再次输入密码",rules:[e=>d(v)(e,s.value.password)]},null,8,["modelValue","rules"])]),_:1})]),_:1},512),f("div",Q,[l(i,{class:"full-width bg-login-btn",label:"注 册",onClick:x}),l(i,{class:"q-mt-md",flat:"",color:"blue",label:"登 录",to:"/login"})])]),_:1})]),_:1})}}});const Z=S(D,[["__scopeId","data-v-dd5dcee2"]]);export{Z as default};
