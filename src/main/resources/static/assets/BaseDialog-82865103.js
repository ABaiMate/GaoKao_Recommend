import{d as F,S as C,p as _,B as G,r as m,c as L,f as X,g as a,J as D,h as x,i,o as f,j as l,K as k,l as Y,b as B,t as Z,C as u,u as ee,n as te,m as oe}from"./index-d31968a7.js";import{S as le,D as ae}from"./useDialog-abda8b4e.js";const ne=["textContent"],se={key:0},ie=F({__name:"BaseDialog",props:{type:{},title:{},fullTitle:{},width:{default:"55%"},confirmBtnText:{default:"确 认"},cancelBtnText:{default:"取 消"},noDrag:{type:Boolean}},emits:[...C.emits,"submit","cancel"],setup(w,{expose:$,emit:T}){const t=w,d=C(),r=_(d,"dialogRef"),H=_(d,"onDialogOK"),S=_(d,"onDialogCancel"),y=_(d,"onDialogHide"),b=T,z=G();let p=m(!0),v=m(0),c=m(z.platform.is.mobile),n=m({x:0,y:0}),R=L(()=>({width:t.width,maxWidth:t.width,transform:`translate(${n.value.x}px, ${n.value.y}px)`}));X(()=>{});function V(e){t.noDrag||(n.value={x:n.value.x+e.delta.x,y:n.value.y+e.delta.y})}function K(){return t.fullTitle?t.fullTitle:t.type?t.type+t.title:t.title}function P(){r.value.show()}function E(){r.value.hide()}function q(){S.value(),p.value=!1,b("cancel")}function N(){const e=(o=1)=>{v.value+=o},s=(o=1)=>{v.value-=o},g=(...o)=>{H.value(o),p.value=!1};b("submit",new le(e,s,g))}return $({dialogRef:r.value,show:P,hide:E,onDialogHide:y.value}),(e,s)=>{const g=a("q-space"),o=a("q-btn"),O=a("q-bar"),j=a("q-card-section"),I=a("q-spinner-ball"),J=a("q-inner-loading"),M=a("q-card-actions"),Q=a("q-card"),U=a("q-dialog"),W=D("touch-pan"),A=D("close-popup");return f(),x(U,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=h=>p.value=h),ref_key:"dialogRef",ref:r,class:"dialog",maximized:c.value,seamless:n.value.x!==0||n.value.y!==0,onHide:y.value},{default:i(()=>[l(Q,{class:"dialog-content",style:te(c.value?{}:{...R.value})},{default:i(()=>[k((f(),x(O,null,{default:i(()=>[Y("div",null,[e.$slots.title?u(e.$slots,"title",{key:1},void 0,!0):(f(),B("div",{key:0,textContent:Z(K())},null,8,ne))]),l(g),l(o,{dense:"",flat:"",icon:c.value?"filter_none":"crop_square",onClick:s[0]||(s[0]=h=>c.value=!c.value)},null,8,["icon"]),l(o,{dense:"",flat:"",icon:"close",onClick:q})]),_:3})),[[W,V,void 0,{mouse:!0}]]),l(j,null,{default:i(()=>[u(e.$slots,"default",{},void 0,!0)]),_:3}),l(M,{class:"q-my-sm",align:"right"},{default:i(()=>[e.$slots.actions?u(e.$slots,"actions",{key:1},void 0,!0):(f(),B("div",se,[u(e.$slots,"actions-prepend",{},void 0,!0),k(l(o,{color:"primary",label:t.cancelBtnText,flat:"",dense:"",onClick:q},null,8,["label"]),[[A]]),l(o,{color:"primary",disable:e.type===ee(ae).CHECK,label:t.confirmBtnText,flat:"",dense:"",onClick:N},null,8,["disable","label"]),u(e.$slots,"actions-append",{},void 0,!0)])),l(J,{showing:v.value>0},{default:i(()=>[l(I,{size:"50px"})]),_:1},8,["showing"])]),_:3})]),_:3},8,["style"])]),_:3},8,["modelValue","maximized","seamless","onHide"])}}});const de=oe(ie,[["__scopeId","data-v-87c79cef"]]);export{de as B};
