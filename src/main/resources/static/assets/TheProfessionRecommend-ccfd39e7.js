import{d as F,B,z as L,r as h,c as N,g as a,o as e,b as n,h as v,i as t,j as o,q as $,u as A,F as c,s as i,l as d,t as q,m as H}from"./index-d31968a7.js";import{P as I}from"./ProfessionApi-32b74b1a.js";import{u as M,F as z,a as D}from"./useValid-d1447d9b.js";import{u as E}from"./useArray-1b072fc4.js";import{u as Q}from"./useFormRules-cbf82972.js";import{u as S,a as U}from"./useRequest-4cb19bee.js";import{u as G}from"./useNotify-cedc1ad3.js";import{u as J}from"./usePage-8ca7a06e.js";const K={class:"TheRecommend"},O={class:"row justify-start q-gutter-md q-mt-md"},W=["textContent"],X=["textContent"],Y=["innerHTML"],Z={class:"col"},ee=F({__name:"TheProfessionRecommend",setup(te){const{toPage:g}=J();G(),B();const x=S();L();const{formRules:y,validNull:oe}=Q(),b=M(),m=U();let l=h({major:"",show:!1}),u=h({}),w=N(()=>E(u.value.list??[],3));async function C(){m.start(),u.value=await x.run(I.getPage({...g(u.value),content:l.value.major})).finally(m.close)}async function R(){await b.submit(),await C(),l.value.show=!0}return(k,_)=>{const P=a("q-item-label"),T=a("q-form"),f=a("q-card-section"),V=a("q-btn"),j=a("q-card-actions"),p=a("q-card");return e(),n("div",K,[l.value.show?(e(!0),n(c,{key:1},i(w.value,r=>(e(),n("div",O,[(e(!0),n(c,null,i(r,s=>(e(),v(p,{class:"col cursor-pointer",flat:"",bordered:"",onClick:se=>k.$router.push(`/home/profession/${s.id}`)},{default:t(()=>[o(f,null,{default:t(()=>[d("p",{class:"q-mt-md text-subtitle1 text-center",textContent:q(s.name)},null,8,W),d("p",{class:"text-overline text-center",textContent:q(s.tag+" "+s.belong)},null,8,X),d("div",{class:"text-caption overflow-hidden",style:{"max-height":"100px"},innerHTML:s.content},null,8,Y)]),_:2},1024)]),_:2},1032,["onClick"]))),256)),(e(!0),n(c,null,i(3-r.length,s=>(e(),n("div",Z))),256))]))),256)):(e(),v(p,{key:0,class:"q-my-md absolute-center",style:{width:"500px"},flat:"",bordered:""},{default:t(()=>[o(P,{header:""},{default:t(()=>[$("请输入您的专业")]),_:1}),o(f,null,{default:t(()=>[o(T,{ref:"formRef",class:"form q-col-gutter-y-md"},{default:t(()=>[o(z,null,{default:t(()=>[o(D,{modelValue:l.value.major,"onUpdate:modelValue":_[0]||(_[0]=r=>l.value.major=r),rules:A(y)},null,8,["modelValue","rules"])]),_:1})]),_:1},512)]),_:1}),o(j,null,{default:t(()=>[o(V,{label:"确认",unelevated:"",class:"full-width",color:"blue",onClick:R})]),_:1})]),_:1}))])}}});const me=H(ee,[["__scopeId","data-v-121d12e7"]]);export{me as default};
