import{Q as C}from"./QueryContainer-778ca57d.js";import{Q as h}from"./QueryPagination-33101695.js";import{U as D}from"./UserItem-db9f1dba.js";import{u as k}from"./useDate-0b7f99ef.js";import{u as T,D as Q}from"./useDialog-abda8b4e.js";import{u as U}from"./useNotify-cedc1ad3.js";import{u as w,a as N}from"./useRequest-4cb19bee.js";import{d as P,B as A,z as I,r as d,f as L,g as n,o as l,b as _,j as t,i as a,l as u,F as V,s as F,h as R,t as c,q as S,u as j,m as z}from"./index-d31968a7.js";import{u as E}from"./usePage-8ca7a06e.js";import{B as M}from"./BbsApi-9114505e.js";import{B as O}from"./BbsDialog-d7a87b8f.js";import"./avatar-dc521f05.js";import"./UserApi-7044f7f4.js";import"./useTimes-c127d28f.js";import"./FormEditor-af66954e.js";import"./useValid-d1447d9b.js";import"./BaseDialog-82865103.js";import"./useFormRules-cbf82972.js";const $={class:"bbs"},G={class:"text-right q-mb-md"},H={class:"text-caption"},J=["textContent"],K=P({__name:"TheBbs",setup(W){U(),A();const f=w(),m=N(),{toPage:g}=E();I();let b=T(O),r=d({}),o=d({});L(()=>{});function q(){b.show(Q.ADD).onOk(p)}async function p(){m.start(),o.value=await f.run(M.getPage({...r.value,...g(o.value)})).finally(m.close)}return(X,s)=>{const v=n("q-btn"),i=n("q-item-section"),y=n("q-item-label"),x=n("q-item"),B=n("q-list");return l(),_("div",$,[t(C,{query:r.value,"onUpdate:query":s[1]||(s[1]=e=>r.value=e),page:o.value,"onUpdate:page":s[2]||(s[2]=e=>o.value=e),onSearch:p},{default:a(()=>[u("div",G,[t(v,{label:"发帖",color:"blue",unelevated:"",class:"min-width-100",onClick:q})]),t(B,{separator:"",bordered:"",class:"bg-grey-1 rounded-borders"},{default:a(()=>[(l(!0),_(V,null,F(o.value.list??[],e=>(l(),R(x,{clickable:"",to:`/home/bbs/${e.id}`},{default:a(()=>[t(i,{side:""},{default:a(()=>[t(D,{"user-id":e.userId},null,8,["user-id"])]),_:2},1024),t(i,null,{default:a(()=>[t(y,{textContent:c(e.title)},null,8,["textContent"])]),_:2},1024),t(i,{side:""},{default:a(()=>[u("div",H,[S(" 创建于 "),u("span",{textContent:c(j(k)(e.createTime))},null,8,J)])]),_:2},1024)]),_:2},1032,["to"]))),256))]),_:1}),t(h,{class:"q-my-xl",page:o.value,"onUpdate:page":s[0]||(s[0]=e=>o.value=e)},null,8,["page"])]),_:1},8,["query","page"])])}}});const ge=z(K,[["__scopeId","data-v-4b087f7f"]]);export{ge as default};
